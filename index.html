<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>‚ù§Ô∏è –ü–æ–π–º–∞–π —Å–µ—Ä–¥–µ—á–∫–æ</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="background-image"></div>
    <div class="atmosphere">
        <div class="noise"></div>
        <div class="floating-shadow"></div>
        <div class="floating-shadow"></div>
        <div class="floating-shadow"></div>
        <div class="vignette"></div>
    </div>

    <div class="sound-btn" id="soundBtn">üîä</div>

    <!-- Warning -->
    <div id="warning" class="screen active">
        <div class="content-card">
            <div class="icon">‚ö†Ô∏è</div>
            <h1>–í–Ω–∏–º–∞–Ω–∏–µ</h1>
            <p>–≠—Ç–∞ –∏–≥—Ä–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç <span class="highlight">–ø—É–≥–∞—é—â–∏–µ –º–æ–º–µ–Ω—Ç—ã</span>, –≥—Ä–æ–º–∫–∏–µ –∑–≤—É–∫–∏ –∏ –≤—Å–ø—ã—à–∫–∏.</p>
            <p>–ù–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –ª—é–¥—è–º —Å <span class="highlight">—ç–ø–∏–ª–µ–ø—Å–∏–µ–π</span>, –±–æ–ª–µ–∑–Ω—è–º–∏ —Å–µ—Ä–¥—Ü–∞ –∏ –±–µ—Ä–µ–º–µ–Ω–Ω—ã–º.</p>
            <div class="headphones-tip"><span>üéß</span>–ù–∞–¥–µ–Ω—å –Ω–∞—É—à–Ω–∏–∫–∏ –¥–ª—è –ø–æ–ª–Ω–æ–≥–æ –ø–æ–≥—Ä—É–∂–µ–Ω–∏—è</div>
            <button class="btn" onclick="startLoading()">–ü–æ–Ω—è—Ç–Ω–æ</button>
        </div>
    </div>

    <!-- Loading -->
    <div id="loading" class="screen">
        <div class="loading-content">
            <div class="loading-heart">‚ù§Ô∏è</div>
            <div class="loading-text" id="loadingText">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
            <div class="loading-bar">
                <div class="loading-fill" id="loadingFill"></div>
            </div>
        </div>
    </div>

    <!-- Intro ‚Äî "–ß—ë—Ä–Ω–∞—è —Ä–æ–∑–∞" -->
    <div id="intro" class="screen">
        <div class="intro-bg" id="introBg"></div>
        <div class="intro-text" id="introText"></div>
    </div>

    <!-- Tutorial (–¥–≤–∞ –≤—ã–±–æ—Ä–∞) -->
    <div id="tutorial" class="screen">
        <div class="content-card">
            <h2>–ö–∞–∫ –∏–≥—Ä–∞—Ç—å</h2>
            <div class="tutorial-steps">
                <div class="step"><div class="step-icon">üëÜ</div><div class="step-text">–ü–æ–ª–æ–∂–∏ <strong>–ø–∞–ª–µ—Ü –≤ –∫—Ä—É–≥</strong> –≤–Ω–∏–∑—É —ç–∫—Ä–∞–Ω–∞</div></div>
                <div class="step"><div class="step-icon">‚ù§Ô∏è</div><div class="step-text">–°–µ—Ä–¥–µ—á–∫–æ –ø–æ—è–≤–∏—Ç—Å—è ‚Äî <strong>–±—ã—Å—Ç—Ä–æ –ª–æ–≤–∏!</strong></div></div>
                <div class="step"><div class="step-icon">‚Ü©Ô∏è</div><div class="step-text">–ü–æ–π–º–∞–ª ‚Äî <strong>–≤–µ—Ä–Ω–∏—Å—å –≤ –∫—Ä—É–≥</strong></div></div>
            </div>
            <div class="rule">‚ö° –ù–µ –æ—Ç—Ä—ã–≤–∞–π –ø–∞–ª–µ—Ü –æ—Ç —ç–∫—Ä–∞–Ω–∞!</div>
            <div class="tutorial-buttons">
                <button class="btn btn-train" onclick="startTraining()">–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</button>
                <button class="btn btn-play" onclick="skipToGame()">–ò–≥—Ä–∞—Ç—å</button>
            </div>
        </div>
    </div>

    <!-- Game -->
    <div id="game" class="screen">
        <div class="instruction" id="instruction">–ü–æ–ª–æ–∂–∏ –ø–∞–ª–µ—Ü –≤ –∫—Ä—É–≥</div>

        <!-- Training hint -->
        <div class="train-hint" id="trainHint"></div>

        <!-- Creepy text -->
        <div class="creepy-text" id="creepyText"></div>

        <div class="hold-zone" id="zone"><div class="zone-dot"></div></div>

        <!-- Screamer -->
        <div class="screamer" id="screamer">
            <img src="assets/images/screamer.png" class="screamer-img" id="screamerImg"
                 onerror="this.style.display='none'; document.getElementById('screamerEmoji').style.display='block';">
            <div class="screamer-emoji" id="screamerEmoji" style="display:none;">üëª</div>
        </div>

        <!-- Fake Screamer -->
        <div class="fake-screamer" id="fakeScreamer">
            <img src="assets/images/kitty.png" class="kitty-img" id="kittyImg"
                 onerror="this.style.display='none'; document.getElementById('kittyEmoji').style.display='block';">
            <div class="kitty-emoji" id="kittyEmoji" style="display:none;">üò∫</div>
        </div>

        <div class="heart" id="heart">‚ù§Ô∏è</div>
        <div class="pointer" id="pointer"></div>
        <div class="desktop-hint">üñ±Ô∏è –£–¥–µ—Ä–∂–∏–≤–∞–π –ª–µ–≤—É—é –∫–Ω–æ–ø–∫—É –º—ã—à–∏</div>
    </div>

    <!-- Training complete -->
    <div id="trainDone" class="screen">
        <div class="content-card">
            <div class="icon">‚úÖ</div>
            <h2>–û—Ç–ª–∏—á–Ω–æ!</h2>
            <p>–¢–µ–ø–µ—Ä—å —Ç—ã –∑–Ω–∞–µ—à—å –∫–∞–∫ –∏–≥—Ä–∞—Ç—å.</p>
            <p style="font-size:13px;color:#999;margin-top:10px;">–ò–≥—Ä–∞ –Ω–∞—á–Ω—ë—Ç—Å—è –ø–æ-–Ω–∞—Å—Ç–æ—è—â–µ–º—É</p>
            <button class="btn btn-play" onclick="startGameFromTraining()">–ò–≥—Ä–∞—Ç—å</button>
        </div>
    </div>

    <!-- Results -->
    <div id="results" class="screen">
        <div class="results-card">
            <h1>–¢–≤–æ–π —É—Ä–æ–≤–µ–Ω—å —Å—Ç—Ä–∞—Ö–∞</h1>
            <div class="score" id="score">0</div>
            <div class="score-bar">
                <div class="score-fill" id="scoreFill"></div>
                <div class="score-labels"><span>ü§ñ</span><span>üò∞</span><span>üì±üí®</span></div>
            </div>
            <div class="label" id="label"></div>
            <div class="hearts-result" id="heartsResult"></div>
            <div class="score-explanation">
                <p><strong>0</strong> ‚Äî –∂–µ–ª–µ–∑–Ω—ã–µ –Ω–µ—Ä–≤—ã, –Ω–∏—á–µ–≥–æ –Ω–µ –±–µ—Ä—ë—Ç</p>
                <p><strong>100</strong> ‚Äî –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π –∏—Å–ø—É–≥</p>
                <p style="margin-top:10px;color:#22c55e;font-size:11px;">‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç —Å–æ—Ö—Ä–∞–Ω—ë–Ω</p>
            </div>
        </div>
        <button class="btn" onclick="restart()">–ï—â—ë —Ä–∞–∑</button>
        <button class="btn btn-secondary" onclick="closeApp()">–í—ã–π—Ç–∏</button>
    </div>

    <!-- Audio -->
    <audio id="ambientSound" loop preload="auto"><source src="assets/sounds/ambient.mp3" type="audio/mpeg"></audio>
    <audio id="laughSound" preload="auto"><source src="assets/sounds/laugh.mp3" type="audio/mpeg"></audio>
    <audio id="screamSound" preload="auto"><source src="assets/sounds/scream.mp3" type="audio/mpeg"></audio>
    <audio id="meowSound" preload="auto"><source src="assets/sounds/meow.mp3" type="audio/mpeg"></audio>

    <script src="config.js"></script>
    <script src="atmosphere.js"></script>
    <script src="metrics.js"></script>
    <script src="game.js"></script>
</body>
</html>
